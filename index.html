<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yorus Shop EC</title>
    <link rel="icon" href="images/icono HD.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="welcome-mascot">
        <img src="images/mascota.png" alt="Mascota Yorus">
    </div>

    <div class="container-fluid bg-primary-pastel py-2 d-none d-md-block">
        <div class="container">
            <div class="row">
                <div class="col-md-6 text-center text-lg-start mb-2 mb-lg-0">
                    <div class="d-inline-flex align-items-center">
                        <small class="text-dark me-3"><i class="fas fa-phone-alt me-2"></i>+(593) 979078720</small>
                    </div>
                </div>
                <div class="col-md-6 text-center text-lg-end">
                    <div class="d-inline-flex align-items-center">
                        <a class="text-dark px-2"
                            href="https://www.facebook.com/people/Yorus-Shop-EC/100092588152739/"><i
                                class="fab fa-facebook-f"></i></a>
                        <a class="text-dark px-2" href="https://www.instagram.com/yorus_shop.ec/?hl=es-la"><i
                                class="fab fa-instagram"></i></a>
                        <a class="text-dark px-2" href="https://www.tiktok.com/@yorus_shopec"><i
                                class="fab fa-tiktok"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm">
        <div class="container">
            <a href="#" class="navbar-brand d-flex align-items-center" onclick="showView('home')">
                <img src="images/icono HD.png" alt="Logo Yorus" style="height: 50px; margin-right: 10px;">
                <h1 class="m-0 text-primary-color">
                    Yorus<span class="text-dark"> Shop EC</span>
                </h1>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav ms-auto py-0">
                    <a href="#" class="nav-item nav-link active" onclick="showView('home')">Inicio</a>
                    <a href="#" class="nav-item nav-link" onclick="showView('catalog', 'all')">Catálogo</a>
                    <a href="#" class="nav-item nav-link" onclick="showView('catalog', 'merch')">Merch</a>
                    <a href="#contacto" class="nav-item nav-link">Contacto</a>
                </div>
                <button class="btn btn-cute-outline rounded-pill ms-3 position-relative" onclick="toggleCart()">
                    <i class="fas fa-shopping-basket"></i> Carrito
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                        id="cartCountBadge">0</span>
                </button>
            </div>
        </div>
    </nav>

    <div id="home-view">

        <div class="container-fluid bg-secondary-pastel py-5 mb-5 hero-header">
            <div class="container py-5">
                <div class="row justify-content-center">
                    <div class="col-lg-8 text-center">
                        <h1 class="display-3 text-dark mb-3 animated slideInDown fw-bold">¡Tu tienda de mangas de
                            confianza!
                        </h1>
                        <p class="fs-4 text-dark mb-4">
                            Somos una tienda online ecuatoriana dedicada, principalmente, a la venta de tomos <strong
                                class="text-primary-color">ORIGINALES</strong> de mangas/manhwas/manhuas bajo pedido.
                        </p>
                        <p class="fs-4 text-dark mb-4">
                            Actualmente manejamos reservas de editoriales <span
                                class="badge bg-secondary-pastel text-dark">argentinas</span>, <span
                                class="badge bg-secondary-pastel text-dark">españolas</span>, <span
                                class="badge bg-secondary-pastel text-dark">inglesas​​​​​​​​</span> y <span
                                class="badge bg-secondary-pastel text-dark">alemanas​​​​​​​​​​​​​​​</span>.
                            ¡Estamos trabajando para traerles muchas más opciones en un futuro!
                        </p>
                        <a href="#" onclick="showView('catalog', 'all')"
                            class="btn btn-primary-custom py-2 px-4 rounded-pill">Ver catálogo completo</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid py-5">
            <div class="container">
                <div class="row g-4">
                    <div class="col-lg-4 col-md-6">
                        <div
                            class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center">
                            <div class="service-icon mb-4">
                                <i class="fas fa-shipping-fast fa-2x text-white"></i>
                            </div>
                            <h4 class="mb-3">Envíos seguros</h4>
                            <p class="m-0">Tus mangas llegan seguros y protegidos a todo el país mediante Servientrega.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div
                            class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center">
                            <div class="service-icon mb-4">
                                <i class="fas fa-star fa-2x text-white"></i>
                            </div>
                            <h4 class="mb-3">Originales 100%</h4>
                            <p class="m-0">Solo productos oficiales y de alta calidad.</p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div
                            class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center">
                            <div class="service-icon mb-4">
                                <i class="fas fa-gift fa-2x text-white"></i>
                            </div>
                            <h4 class="mb-3">Regalos especiales</h4>
                            <p class="m-0">Cada pedido incluye regalitos de la tienda.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid py-5">
            <div class="container">
                <div class="text-center mx-auto mb-5" style="max-width: 500px;">
                    <h1 class="display-6 mt-2 letra-cute">Destacados para ti</h1>
                </div>

                <div class="row g-4" id="featuredGrid">
                </div>

                <div class="text-center mt-5">
                    <button onclick="showView('catalog', 'all')" class="btn btn-outline-dark rounded-pill px-5 py-3">
                        Ver todo el catálogo <i class="fas fa-arrow-right ms-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>


    <div id="catalog-view" class="d-none container-fluid py-5">
        <div class="container">
            <div class="text-center mx-auto mb-5">
                <h1 class="display-6 letra-cute">Catálogo completo</h1>
                <p class="text-muted">Busca por título o filtra por categoría.</p>
            </div>

            <div class="row justify-content-center mb-5">
                <div class="col-md-8 col-lg-6">
                    <div class="input-group shadow-sm bg-white border rounded-pill">

                        <span class="input-group-text bg-white border-0 ps-3 rounded-start-pill">
                            <i class="fas fa-search text-muted"></i>
                        </span>

                        <input type="text" id="searchInput" class="form-control border-0 py-3 shadow-none"
                            placeholder="Buscar título...">

                        <button class="btn btn-filter-custom dropdown-toggle border-start rounded-end-pill px-4"
                            type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-filter me-2"></i> Filtros
                        </button>

                        <ul class="dropdown-menu dropdown-menu-end border-0 shadow-lg p-3 rounded-4"
                            style="min-width: 200px; margin-top: 10px;">
                            <li>
                                <h6 class="dropdown-header text-uppercase text-xs fw-bold text-muted mb-2">Por género:
                                </h6>
                            </li>

                            <li><button class="dropdown-item rounded-3 mb-1"
                                    onclick="filterCatalog('et_filt', null, 'bl')">BL/Yaoi</button></li>
                            <li><button class="dropdown-item rounded-3 mb-1"
                                    onclick="filterCatalog('et_filt', null, 'gl')">GL/Yuri</button></li>
                            <li><button class="dropdown-item rounded-3 mb-1"
                                    onclick="filterCatalog('et_filt', null, 'gore')">Terror</button></li>
                            <li><button class="dropdown-item rounded-3 mb-1"
                                    onclick="filterCatalog('et_filt', null, 'shonen')">Acción</button></li>
                            <li><button class="dropdown-item rounded-3 mb-1"
                                    onclick="filterCatalog('et_filt', null, 'shojo')">Romance</button></li>
                            <li><button class="dropdown-item rounded-3 mb-1"
                                    onclick="filterCatalog('et_filt', null, 'comedy')">Comedia</button></li>
                            <li><button class="dropdown-item rounded-3 mb-1"
                                    onclick="filterCatalog('et_filt', null, 'fantasy')">Fantasía</button></li>
                            <li><button class="dropdown-item rounded-3 mb-1"
                                    onclick="filterCatalog('et_filt', null, 'spokon')">Deportes</button></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><button class="dropdown-item text-danger rounded-3"
                                    onclick="filterCatalog('all', null)">Borrar selección</button></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="row justify-content-center mb-4">
                <div class="col-12 text-center d-flex justify-content-center flex-wrap gap-2">
                    <button class="btn btn-outline-dark rounded-pill active-filter"
                        onclick="filterCatalog('all', this)">Todo</button>
                    <button class="btn btn-outline-dark rounded-pill"
                        onclick="filterCatalog('manga', this)">Mangas</button>
                    <button class="btn btn-outline-dark rounded-pill"
                        onclick="filterCatalog('manhwa', this)">Manhwas</button>
                    <button class="btn btn-outline-dark rounded-pill"
                        onclick="filterCatalog('manhua', this)">Manhuas</button>
                    <button class="btn btn-outline-dark rounded-pill"
                        onclick="filterCatalog('danmei', this)">Novelas</button>
                    <button class="btn btn-outline-dark rounded-pill"
                        onclick="filterCatalog('merch', this)">Merch</button>
                </div>
            </div>

            <div class="row g-4" id="catalogGrid">
            </div>
        </div>
    </div>


    <div class="modal fade" id="productModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 rounded-4" style="background-color: var(--bg-cream);">
                <div class="modal-header border-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center pb-5">
                    <img id="modalImg" src="" class="img-fluid rounded mb-3" style="max-height: 350px;">
                    <div id="modalGallery" class="d-flex justify-content-center gap-2 mb-4 flex-wrap"></div>
                    <h3 id="modalTitle" class="fw-bold">Título</h3>
                    <span id="modalGenre" class="badge bg-secondary-pastel text-dark mb-3">Género</span>
                    <p id="modalDesc" class="text-muted">Descripción</p>
                    <h2 id="modalPrice" class="text-primary-color mb-4">$0.00</h2>
                    <button id="modalAddBtn" class="btn btn-primary-custom w-100 py-3 rounded-pill">
                        Añadir al carrito
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="offcanvas offcanvas-end" tabindex="-1" id="cartOffcanvas" aria-labelledby="cartLabel">
        <div class="offcanvas-header bg-primary-pastel">
            <h5 class="offcanvas-title" id="cartLabel">Tu carrito</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body d-flex flex-column">

            <div id="cartItemsContainer" class="flex-grow-1 overflow-auto">
                <p class="text-center text-muted mt-5">Tu carrito está vacío :(</p>
            </div>

            <div class="mt-3 p-2 bg-light border rounded small text-muted fst-italic">
                <i class="fas fa-info-circle me-1 text-warning"></i>
                <strong>Nota:</strong> Los productos seleccionados son <strong>BAJO PEDIDO</strong>.
                La fecha de llegada estimada depende de la tanda abierta al momento de esta compra.
            </div>

            <div class="border-top pt-3 mt-3">
                <div class="d-flex justify-content-between mb-3">
                    <span class="h5">Total:</span>
                    <span class="h5 text-primary-color" id="cartTotal">$0.00</span>
                </div>
                <button onclick="checkoutInstagram()" class="btn btn-success w-100 py-3 rounded-3 fw-bold"
                    style="background: linear-gradient(45deg, #f09433, #dc2743, #bc1888); border:none;">
                    <i class="fab fa-instagram"></i> Pedir por DM
                </button>
            </div>
        </div>
    </div>

    <div class="container-fluid bg-footer-color text-light mt-5 py-5" id="contacto">
        <div class="container text-center">
            <div class="row g-5">

                <div class="col-lg-4 col-md-6">
                    <h4 class="text-primary-color-footer mb-4">Yorus Shop EC</h4>
                    <p>¡Somos tu tienda de mangas/manhwas/manhuas de confianza!</p>
                </div>

                <div class="col-lg-4 col-md-6">
                    <h4 class="text-primary-color-footer mb-4">Contacto</h4>
                    <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i>Guayaquil, Ecuador.</p>
                    <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>+(593) 979078720</p>
                </div>

                <div class="col-lg-4 col-md-6">
                    <h4 class="text-primary-color-footer mb-4">Síguenos</h4>

                    <div class="d-flex justify-content-center">
                        <a class="btn btn-outline-light btn-social"
                            href="https://www.instagram.com/yorus_shop.ec/?hl=es-la">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a class="btn btn-outline-light btn-social" href="https://www.tiktok.com/@yorus_shopec">
                            <i class="fab fa-tiktok"></i>
                        </a>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content bg-transparent border-0">
                <div class="modal-body p-0 text-center position-relative">
                    <button type="button" class="btn-close btn-close-white position-absolute top-0 end-0 m-3 z-3"
                        data-bs-dismiss="modal" aria-label="Close"></button>
                    <img id="fullSizeImage" src="" class="img-fluid rounded shadow-lg" style="max-height: 90vh;">
                </div>
            </div>
        </div>
    </div>

    <div id="music-container">
        <div id="youtube-player"></div>

        <button id="music-btn" onclick="toggleMusic()" title="Música de fondo">
            ♫
        </button>
    </div>

    <script>
        var player;
        var isPlaying = false;

        // API DE YOUTUBE
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // CONFIGURACIÓN DEL REPRODUCTOR
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0',
                width: '0',
                videoId: 'au7kOJeK7Gw', // Cambio aquí mis canciones :D
                playerVars: {
                    'playsinline': 1,
                    'controls': 0,
                    'loop': 1,
                    'playlist': 'au7kOJeK7Gw' // Lo mismo :D
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        function onPlayerReady(event) { }

        // BOTÓN PLAY Y PAUSA
        function toggleMusic() {
            var btn = document.getElementById("music-btn");
            var playingImageURL = "images/icon-kag.webp";

            if (isPlaying) {
                player.pauseVideo();
                btn.innerHTML = "♫";
                btn.classList.remove("playing");
                isPlaying = false;
            } else {
                player.playVideo();
                btn.innerHTML = '<img src="' + playingImageURL + '" alt="Sonando" class="music-icon-img">';
                btn.classList.add("playing");
                isPlaying = true;
            }
        }

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="main.js"></script>
</body>

</html>